    Checking sb-core v0.1.0 (/Users/bob/Desktop/Projects/ING/sing/singbox-rust/crates/sb-core)
error[E0603]: module `labels` is private
  --> crates/sb-core/src/metrics/registry_ext.rs:88:17
   |
88 |     sb_metrics::labels::ensure_allowed_labels(name, labels);
   |                 ^^^^^^  --------------------- function `ensure_allowed_labels` is not publicly re-exported
   |                 |
   |                 private module
   |
note: the module `labels` is defined here
  --> /Users/bob/Desktop/Projects/ING/sing/singbox-rust/crates/sb-metrics/src/lib.rs:77:1
   |
77 | mod labels;
   | ^^^^^^^^^^

error[E0603]: module `labels` is private
   --> crates/sb-core/src/metrics/registry_ext.rs:122:17
    |
122 |     sb_metrics::labels::ensure_allowed_labels(name, labels);
    |                 ^^^^^^  --------------------- function `ensure_allowed_labels` is not publicly re-exported
    |                 |
    |                 private module
    |
note: the module `labels` is defined here
   --> /Users/bob/Desktop/Projects/ING/sing/singbox-rust/crates/sb-metrics/src/lib.rs:77:1
    |
 77 | mod labels;
    | ^^^^^^^^^^

error[E0603]: module `labels` is private
   --> crates/sb-core/src/metrics/registry_ext.rs:156:17
    |
156 |     sb_metrics::labels::ensure_allowed_labels(name, labels);
    |                 ^^^^^^  --------------------- function `ensure_allowed_labels` is not publicly re-exported
    |                 |
    |                 private module
    |
note: the module `labels` is defined here
   --> /Users/bob/Desktop/Projects/ING/sing/singbox-rust/crates/sb-metrics/src/lib.rs:77:1
    |
 77 | mod labels;
    | ^^^^^^^^^^

error[E0603]: module `labels` is private
   --> crates/sb-core/src/metrics/registry_ext.rs:250:17
    |
250 |     sb_metrics::labels::ensure_allowed_labels(name, labels);
    |                 ^^^^^^  --------------------- function `ensure_allowed_labels` is not publicly re-exported
    |                 |
    |                 private module
    |
note: the module `labels` is defined here
   --> /Users/bob/Desktop/Projects/ING/sing/singbox-rust/crates/sb-metrics/src/lib.rs:77:1
    |
 77 | mod labels;
    | ^^^^^^^^^^

warning: unused import: `tokio::sync::Mutex`
  --> crates/sb-core/src/inbound/tun.rs:17:5
   |
17 | use tokio::sync::Mutex;
   |     ^^^^^^^^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` on by default

warning: unused import: `debug`
  --> crates/sb-core/src/inbound/tun.rs:18:15
   |
18 | use tracing::{debug, error, info, warn};
   |               ^^^^^

warning: unused import: `crate::outbound::crypto_types::HostPort as Hp`
   --> crates/sb-core/src/outbound/mod.rs:448:29
    |
448 |                         use crate::outbound::crypto_types::HostPort as Hp;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused imports: `router_index_decide_geosite` and `router_index_decide_transport_port`
  --> crates/sb-core/src/router/engine.rs:15:55
   |
15 |     normalize_host, router_index_decide_exact_suffix, router_index_decide_geosite,
   |                                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^
16 |     router_index_decide_ip, router_index_decide_transport_port, runtime_override_udp, shared_index,
   |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused imports: `ConfigIR` and `RuleIR`
   --> crates/sb-core/src/router/mod.rs:180:21
    |
180 | use sb_config::ir::{ConfigIR, RuleIR};
    |                     ^^^^^^^^  ^^^^^^

warning: unused import: `ipnet::IpNet`
   --> crates/sb-core/src/router/mod.rs:181:5
    |
181 | use ipnet::IpNet;
    |     ^^^^^^^^^^^^

warning: unused import: `std::str::FromStr`
   --> crates/sb-core/src/router/mod.rs:182:5
    |
182 | use std::str::FromStr;
    |     ^^^^^^^^^^^^^^^^^

warning: unused imports: `CompositeRule`, `Decision`, `DnsRecordType`, `DomainRegexMatcher`, and `ProcessPathRegexMatcher`
   --> crates/sb-core/src/router/mod.rs:183:28
    |
183 | use crate::router::rules::{CompositeRule, Decision, DomainRegexMatcher, ProcessPathRegexMatcher, DnsRecordType};
    |                            ^^^^^^^^^^^^^  ^^^^^^^^  ^^^^^^^^^^^^^^^^^^  ^^^^^^^^^^^^^^^^^^^^^^^  ^^^^^^^^^^^^^

warning: unused imports: `delete`, `post`, and `put`
 --> crates/sb-core/src/services/ssmapi/server.rs:6:15
  |
6 |     routing::{delete, get, post, put},
  |               ^^^^^^       ^^^^  ^^^

warning: unused import: `std::collections::HashMap`
  --> crates/sb-core/src/services/ssmapi/server.rs:10:5
   |
10 | use std::collections::HashMap;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^

error[E0277]: `std::result::Result<usize, TunError>` is not a future
   --> crates/sb-core/src/inbound/tun.rs:135:41
    |
135 |             match device.read(&mut buf).await {
    |                                         ^^^^^ `std::result::Result<usize, TunError>` is not a future
    |
    = help: the trait `futures::Future` is not implemented for `std::result::Result<usize, TunError>`
    = note: std::result::Result<usize, TunError> must be a future or must implement `IntoFuture` to be awaited
    = note: required for `std::result::Result<usize, TunError>` to implement `std::future::IntoFuture`
help: remove the `.await`
    |
135 -             match device.read(&mut buf).await {
135 +             match device.read(&mut buf) {
    |

error[E0277]: `std::result::Result<usize, TunError>` is not a future
   --> crates/sb-core/src/inbound/tun.rs:150:66
    |
150 |                         if let Err(e) = device.write(&tx_packet).await {
    |                                                                  ^^^^^ `std::result::Result<usize, TunError>` is not a future
    |
    = help: the trait `futures::Future` is not implemented for `std::result::Result<usize, TunError>`
    = note: std::result::Result<usize, TunError> must be a future or must implement `IntoFuture` to be awaited
    = note: required for `std::result::Result<usize, TunError>` to implement `std::future::IntoFuture`
help: remove the `.await`
    |
150 -                         if let Err(e) = device.write(&tx_packet).await {
150 +                         if let Err(e) = device.write(&tx_packet) {
    |

error[E0277]: `std::result::Result<(), TunError>` is not a future
   --> crates/sb-core/src/inbound/tun.rs:162:32
    |
162 |         let _ = device.close().await;
    |                                ^^^^^ `std::result::Result<(), TunError>` is not a future
    |
    = help: the trait `futures::Future` is not implemented for `std::result::Result<(), TunError>`
    = note: std::result::Result<(), TunError> must be a future or must implement `IntoFuture` to be awaited
    = note: required for `std::result::Result<(), TunError>` to implement `std::future::IntoFuture`
help: remove the `.await`
    |
162 -         let _ = device.close().await;
162 +         let _ = device.close();
    |

warning: unused variable: `budget`
   --> crates/sb-core/src/router/engine.rs:745:13
    |
745 |         let budget = std::env::var("SB_ROUTER_DECIDE_BUDGET_MS")
    |             ^^^^^^ help: if this is intentional, prefix it with an underscore: `_budget`
    |
    = note: `#[warn(unused_variables)]` on by default

warning: unused variable: `idx`
   --> crates/sb-core/src/router/engine.rs:749:13
    |
749 |         let idx = { self.idx.read().unwrap_or_else(|e| e.into_inner()).clone() };
    |             ^^^ help: if this is intentional, prefix it with an underscore: `_idx`

error[E0599]: no method named `connect` found for struct `std::sync::Arc<TuicOutbound>` in the current scope
   --> crates/sb-core/src/runtime/switchboard.rs:642:52
    |
642 | ...                   let s = self.inner.connect(&hp).await.map_err(AdapterError::Io)?;
    |                                          ^^^^^^^ method not found in `std::sync::Arc<TuicOutbound>`
    |
    = help: items from traits can only be used if the trait is in scope
help: the following traits which provide `connect` are implemented but not in scope; perhaps you want to import one of them
    |
  6 + use crate::adapter::OutboundConnector;
    |
  6 + use crate::outbound::types::OutboundTcp;
    |

error[E0599]: no method named `connect` found for struct `std::sync::Arc<Hysteria2Outbound>` in the current scope
   --> crates/sb-core/src/runtime/switchboard.rs:694:52
    |
694 | ...                   let s = self.inner.connect(&hp).await.map_err(AdapterError::Io)?;
    |                                          ^^^^^^^
    |
    = help: items from traits can only be used if the trait is in scope
help: there is a method `get_connection` with a similar name, but with different arguments
   --> crates/sb-core/src/outbound/hysteria2.rs:238:5
    |
238 |     pub async fn get_connection(&self) -> io::Result<Connection> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
help: the following traits which provide `connect` are implemented but not in scope; perhaps you want to import one of them
    |
  6 + use crate::adapter::OutboundConnector;
    |
  6 + use crate::outbound::types::OutboundTcp;
    |

error[E0599]: no method named `connect` found for struct `std::sync::Arc<ShadowTlsOutbound>` in the current scope
   --> crates/sb-core/src/runtime/switchboard.rs:815:52
    |
815 | ...                   let s = self.inner.connect(&hp).await.map_err(AdapterError::Io)?;
    |                                          ^^^^^^^ method not found in `std::sync::Arc<ShadowTlsOutbound>`
    |
    = help: items from traits can only be used if the trait is in scope
help: trait `OutboundTcp` which provides `connect` is implemented but not in scope; perhaps you want to import it
    |
  6 + use crate::outbound::types::OutboundTcp;
    |

warning: unused import: `AsyncWriteExt`
  --> crates/sb-core/src/inbound/tun.rs:16:31
   |
16 | use tokio::io::{AsyncReadExt, AsyncWriteExt};
   |                               ^^^^^^^^^^^^^

warning: unused import: `AsyncReadExt`
  --> crates/sb-core/src/inbound/tun.rs:16:17
   |
16 | use tokio::io::{AsyncReadExt, AsyncWriteExt};
   |                 ^^^^^^^^^^^^

warning: variable does not need to be mutable
   --> crates/sb-core/src/runtime/transport.rs:293:13
    |
293 |         let mut builder = apply_layers(
    |             ----^^^^^^^
    |             |
    |             help: remove this `mut`
    |
    = note: `#[warn(unused_mut)]` on by default

Some errors have detailed explanations: E0277, E0599, E0603.
For more information about an error, try `rustc --explain E0277`.
warning: `sb-core` (lib) generated 15 warnings
error: could not compile `sb-core` (lib) due to 10 previous errors; 15 warnings emitted
