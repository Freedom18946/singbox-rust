# æ–‡ä»¶æ•´ç†æ€»ç»“

## æ•´ç†æ¦‚è¿°

å¯¹ singbox-rust é¡¹ç›®æ ¹ç›®å½•è¿›è¡Œäº†å…¨é¢æ•´ç†ï¼Œå°†æ•£ä¹±çš„æµ‹è¯•æ–‡ä»¶ã€é…ç½®æ–‡ä»¶å’Œæ–‡æ¡£æŒ‰åŠŸèƒ½åˆ†ç±»ç§»åŠ¨åˆ° `tests/` ç›®å½•ä¸‹çš„ç›¸åº”å­ç›®å½•ä¸­ã€‚

## æ•´ç†å‰åå¯¹æ¯”

### æ•´ç†å‰çš„æ ¹ç›®å½•é—®é¢˜
- å¤§é‡æµ‹è¯•ç›¸å…³æ–‡ä»¶æ•£å¸ƒåœ¨æ ¹ç›®å½•
- é…ç½®æ–‡ä»¶å’Œæ•°æ®æ–‡ä»¶æ··æ‚
- æ–‡æ¡£æ–‡ä»¶ä½ç½®ä¸ç»Ÿä¸€
- ä¸´æ—¶æ–‡ä»¶å’Œç¼–è¯‘äº§ç‰©æœªåˆ†ç±»

### æ•´ç†åçš„ç›®å½•ç»“æ„

#### ğŸ§¹ æ ¹ç›®å½• (ä¿ç•™æ ¸å¿ƒæ–‡ä»¶)
```
æ ¹ç›®å½•/
â”œâ”€â”€ ğŸ“ æ ¸å¿ƒç›®å½•/           # ä¿ç•™æ‰€æœ‰é‡è¦çš„é¡¹ç›®ç›®å½•
â”œâ”€â”€ ğŸ“„ Cargo.toml         # å·¥ä½œç©ºé—´é…ç½®
â”œâ”€â”€ ğŸ“„ README.md          # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ ğŸ“„ è¿›åº¦è§„åˆ’ä¸åˆ†è§£V*.md  # é¡¹ç›®è§„åˆ’æ–‡æ¡£
â””â”€â”€ ğŸ“„ å…¶ä»–æ ¸å¿ƒé…ç½®æ–‡ä»¶...   # rust-toolchain.toml, clippy.toml ç­‰
```

#### ğŸ“ tests/ ç›®å½•é‡æ–°ç»„ç»‡
```
tests/
â”œâ”€â”€ integration/          # é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ test_schema_v2_integration.rs
â”‚   â”œâ”€â”€ test_udp_nat_*
â”‚   â””â”€â”€ verify_*
â”œâ”€â”€ unit/                 # å•å…ƒæµ‹è¯• (é¢„ç•™)
â”œâ”€â”€ configs/              # æµ‹è¯•é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ test_*_config.yaml
â”‚   â”œâ”€â”€ test_*.json
â”‚   â””â”€â”€ test_cert.pem
â”œâ”€â”€ data/                 # æµ‹è¯•æ•°æ®
â”‚   â”œâ”€â”€ demo*.json
â”‚   â”œâ”€â”€ task_receipt*.json
â”‚   â””â”€â”€ *.long-type-*.txt
â”œâ”€â”€ scripts/              # æµ‹è¯•è„šæœ¬
â”‚   â””â”€â”€ verify_*.sh
â””â”€â”€ docs/                 # æµ‹è¯•æ–‡æ¡£
    â”œâ”€â”€ UDP_NAT_*.md
    â””â”€â”€ SCHEMA_V2_*.md
```

## æ–‡ä»¶ç§»åŠ¨è¯¦æƒ…

### âœ… å·²ç§»åŠ¨çš„æ–‡ä»¶

#### é›†æˆæµ‹è¯•æ–‡ä»¶
- `test_schema_v2_integration.rs` â†’ `tests/integration/`
- `test_requirements_simple` â†’ `tests/integration/`
- `test_udp_nat_complete_system` â†’ `tests/integration/`
- `test_udp_nat_core` â†’ `tests/integration/`
- `verify_udp_nat_metrics` â†’ `tests/integration/`

#### é…ç½®æ–‡ä»¶
- `test_*.yaml` â†’ `tests/configs/`
- `test_*.json` â†’ `tests/configs/`
- `test_*.conf` â†’ `tests/configs/`
- `test_*.pem` â†’ `tests/configs/`

#### æ•°æ®æ–‡ä»¶
- `demo*.json` â†’ `tests/data/`
- `sub.json` â†’ `tests/data/`
- `rust.view.json` â†’ `tests/data/`
- `task_receipt*.json` â†’ `tests/data/`
- `test_*.txt` â†’ `tests/data/`

#### è„šæœ¬æ–‡ä»¶
- `verify_schema_v2_implementation.sh` â†’ `tests/scripts/`

#### æ–‡æ¡£æ–‡ä»¶
- `UDP_NAT_*.md` â†’ `tests/docs/`
- `SCHEMA_V2_ERROR_FORMAT.md` â†’ `tests/docs/`

### ğŸ“‹ ä¿ç•™åœ¨æ ¹ç›®å½•çš„æ–‡ä»¶
- æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼š`Cargo.toml`, `rust-toolchain.toml`, `clippy.toml`, `deny.toml`
- é¡¹ç›®æ–‡æ¡£ï¼š`README.md`, `è¿›åº¦è§„åˆ’ä¸åˆ†è§£V*.md`
- ç¯å¢ƒé…ç½®ï¼š`config.yaml`, `BASELINE_UPSTREAM.env`
- Git é…ç½®ï¼š`.gitignore`

## æ–°å¢çš„å¯¼èˆªæ–‡æ¡£

### ğŸ“š åˆ›å»ºçš„æ–‡æ¡£
1. **`PROJECT_STRUCTURE_NAVIGATION.md`** (æ ¹ç›®å½•)
   - å®Œæ•´çš„é¡¹ç›®ç»“æ„å¯¼èˆª
   - æ¨¡å—èŒè´£è¯´æ˜
   - å¼€å‘è·¯å¾„æŒ‡å¼•
   - **æƒå¨æ€§å£°æ˜å’Œç»´æŠ¤æŒ‡å—**

2. **`tests/README.md`**
   - æµ‹è¯•ç›®å½•ä½¿ç”¨æŒ‡å—
   - æµ‹è¯•åˆ†ç±»è¯´æ˜
   - è¿è¡Œæµ‹è¯•çš„æ–¹æ³•

3. **`docs/FILE_ORGANIZATION_SUMMARY.md`** (æœ¬æ–‡æ¡£)
   - æ–‡ä»¶æ•´ç†è¿‡ç¨‹è®°å½•
   - æ•´ç†å‰åå¯¹æ¯”

## æ•´ç†æ•ˆæœ

### âœ… æ”¹å–„æ•ˆæœ
1. **æ ¹ç›®å½•æ¸…æ´**: ç§»é™¤äº† 20+ ä¸ªæµ‹è¯•å’Œä¸´æ—¶æ–‡ä»¶
2. **åˆ†ç±»æ˜ç¡®**: æŒ‰åŠŸèƒ½å°†æ–‡ä»¶åˆ†ç±»åˆ°å¯¹åº”ç›®å½•
3. **å¯¼èˆªæ¸…æ™°**: æä¾›äº†å®Œæ•´çš„é¡¹ç›®å¯¼èˆªæ–‡æ¡£
4. **ç»´æŠ¤æ€§æå‡**: æ–°æ–‡ä»¶æœ‰æ˜ç¡®çš„å½’å±ä½ç½®

### ğŸ¯ ç›®å½•èŒè´£æ˜ç¡®
- `tests/integration/` - è·¨æ¨¡å—åŠŸèƒ½æµ‹è¯•
- `tests/configs/` - æµ‹è¯•é…ç½®æ–‡ä»¶
- `tests/data/` - æµ‹è¯•æ•°æ®å’Œä¸´æ—¶æ–‡ä»¶
- `tests/scripts/` - æµ‹è¯•è‡ªåŠ¨åŒ–è„šæœ¬
- `tests/docs/` - æµ‹è¯•ç›¸å…³æ–‡æ¡£

## åç»­ç»´æŠ¤å»ºè®®

### ğŸ“ æ–‡ä»¶æ·»åŠ è§„åˆ™
1. **æµ‹è¯•æ–‡ä»¶**: æ ¹æ®ç±»å‹æ”¾å…¥ `tests/` ç›¸åº”å­ç›®å½•
2. **é…ç½®æ–‡ä»¶**: æµ‹è¯•ç”¨é…ç½®æ”¾å…¥ `tests/configs/`
3. **æ–‡æ¡£æ–‡ä»¶**: é¡¹ç›®çº§æ–‡æ¡£æ”¾å…¥ `docs/`, æµ‹è¯•æ–‡æ¡£æ”¾å…¥ `tests/docs/`
4. **ä¸´æ—¶æ–‡ä»¶**: ç¼–è¯‘äº§ç‰©å’Œä¸´æ—¶æ–‡ä»¶æ”¾å…¥ `tests/data/`

### ğŸ”„ å®šæœŸæ¸…ç†
- å®šæœŸæ¸…ç† `tests/data/` ä¸­çš„ä¸´æ—¶æ–‡ä»¶
- æ£€æŸ¥å¹¶ç§»é™¤ä¸å†éœ€è¦çš„æµ‹è¯•é…ç½®
- æ›´æ–°æ–‡æ¡£ä»¥åæ˜ æœ€æ–°çš„é¡¹ç›®ç»“æ„

## åç»­æ›´æ–°è®°å½•

### ğŸ“‹ 2024å¹´9æœˆ20æ—¥ - å¯¼èˆªæ–‡æ¡£æƒå¨åŒ–
- âœ… å°† `PROJECT_STRUCTURE_NAVIGATION.md` ç§»åŠ¨åˆ°æ ¹ç›®å½•
- âœ… åœ¨ `README.md` ä¸­æ·»åŠ æƒå¨æ€§å£°æ˜
- âœ… è¦æ±‚æ‰€æœ‰å¼€å‘è€…å’ŒAIåŠ©æ‰‹éªŒè¯å¯¼èˆªæ–‡æ¡£å‡†ç¡®æ€§
- âœ… å»ºç«‹æ–‡æ¡£ç»´æŠ¤è´£ä»»åˆ¶å’Œæ›´æ–°æµç¨‹

---

*æ•´ç†å®Œæˆæ—¶é—´: 2024å¹´9æœˆ20æ—¥*  
*æ•´ç†èŒƒå›´: æ ¹ç›®å½• â†’ tests/ ç›®å½•é‡ç»„*  
*å½±å“æ–‡ä»¶: 30+ ä¸ªæ–‡ä»¶é‡æ–°åˆ†ç±»*  
*æƒå¨åŒ–æ›´æ–°: 2024å¹´9æœˆ20æ—¥*