{
  "// description": "Chained proxy (proxy through another proxy)",
  "// usage": "cargo run -p app -- run -c examples/configs/advanced/chain-proxy.json",
  "// topology": "Client -> Local Proxy -> Upstream Proxy -> Internet",

  "inbounds": [
    {
      "type": "mixed",
      "name": "mixed-in",
      "listen": "127.0.0.1",
      "port": 1080
    }
  ],

  "outbounds": [
    {
      "type": "shadowsocks",
      "name": "upstream",
      "server": "upstream.example.com",
      "port": 8388,
      "method": "aes-256-gcm",
      "password": "upstream-password",
      "detour": "local-proxy"
    },
    {
      "type": "socks",
      "name": "local-proxy",
      "server": "127.0.0.1",
      "port": 1081,
      "version": 5
    },
    {
      "type": "direct",
      "name": "direct"
    }
  ],

  "route": {
    "rules": [
      {
        "when": {
          "cidr": ["10.0.0.0/8", "192.168.0.0/16"]
        },
        "to": "direct"
      }
    ],
    "default": "upstream"
  }
}
