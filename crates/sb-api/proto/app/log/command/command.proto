syntax = "proto3";

package v2ray.core.app.log.command;
option go_package = "github.com/v2fly/v2ray-core/v5/app/log/command";

import "google/protobuf/empty.proto";

message LogConfig {
}

message RestartLoggerRequest {
}

message RestartLoggerResponse {
}

message FollowLogRequest {
}

message LogEntry {
  string timestamp = 1;
  string level = 2;
  string message = 3;
  string source = 4;
}

service LoggerService {
  rpc RestartLogger(RestartLoggerRequest) returns (RestartLoggerResponse);
  rpc FollowLog(FollowLogRequest) returns (stream LogEntry);
}